"use strict";(self["webpackChunkadmin_one_vue_tailwind"]=self["webpackChunkadmin_one_vue_tailwind"]||[]).push([[584],{5690:function(e,t,a){a.d(t,{Z:function(){return m}});var l=a(6252),n=a(3577),s=a(2262);const i={class:"mb-6 last:mb-0"},c={key:0,class:"block font-bold mb-2"},o={key:1,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"};var u={props:{label:{type:String,default:null},help:{type:String,default:null}},setup(e){const t=(0,l.Rr)(),a=(0,l.Fl)((()=>{const e=[],a=t.default().length;return a>1&&e.push("grid grid-cols-1 gap-3"),2===a&&e.push("md:grid-cols-2"),e}));return(t,u)=>((0,l.wg)(),(0,l.iD)("div",i,[e.label?((0,l.wg)(),(0,l.iD)("label",c,(0,n.zw)(e.label),1)):(0,l.kq)("",!0),(0,l._)("div",{class:(0,n.C_)((0,s.SU)(a))},[(0,l.WI)(t.$slots,"default")],2),e.help?((0,l.wg)(),(0,l.iD)("div",o,(0,n.zw)(e.help),1)):(0,l.kq)("",!0)]))}};const r=u;var m=r},974:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var l=a(6252),n=a(2262),s=a(3577),i=a(5317),c=a(7315),o=a(9890),u=a(5690),r=a(5693),m=a(8400),d=a(3002),f=a(2119),w=a(6373),g=a(1388),p=a(2213),h={setup(e){const t=(0,f.yj)(),a=(0,n.iH)({}),h=(0,n.iH)([]),v=(0,n.iH)([]),y=(0,d.pm)(),Z=(0,n.qj)({file:null}),k=(0,n.iH)(t.params.memoId);function b(e){Z.file=e.target.files||e.dataTransfer.files}async function W(e){try{const t=await m.Z.get(`/memos/${e}/receipients`);h.value=t.data.receipients}catch(t){y.error(t.message)}}async function _(){try{const e=new FormData;e.append("file",Z.file[0]);const t=await m.Z.post(`/memos/${k.value}/attachments`,e);await S(k.value),y.success(t.message)}catch(e){y.error(e.message)}}async function D(e){try{const t=await m.Z.get(`/memos/${e}`);a.value=t.data.memo}catch(t){y.error(t.message)}}function C(e){window.open(e)}async function S(e){try{const t=await m.Z.get(`/memos/${e}/attachments`);v.value=t.data.attachments}catch(t){y.error(t.message)}}async function j(e){try{const t=await m.Z["delete"](`/memos/attachments/${e}`);await S(k.value),y.success(t.message)}catch(t){y.error(t.message)}}return(0,l.bv)((async()=>{await D(k.value),await W(k.value),await S(k.value)})),(e,t)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(c.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(o.Z,{title:"Memo Details",icon:(0,n.SU)(i.hjO)},{default:(0,l.w5)((()=>[h.value.length?((0,l.wg)(),(0,l.j4)(u.Z,{key:0,label:"Recipients"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(h.value,(e=>((0,l.wg)(),(0,l.iD)("span",{key:e.receipient,class:"inline-block px-2 py-1"},(0,s.zw)(e.user.fullName),1)))),128))])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(r.Z),(0,l.Wm)(u.Z,{label:"Memo Title"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(a.value.title),1)])),_:1}),(0,l.Wm)(r.Z),(0,l.Wm)(u.Z,{label:"Date"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(a.value.date),1)])),_:1}),(0,l.Wm)(r.Z),(0,l.Wm)(u.Z,{label:"Attachments"},{default:(0,l.w5)((()=>[(0,l.Wm)(p.Z,{type:"file",placeholder:"Enter the name of document",onChange:b})])),_:1}),(0,l.Wm)(u.Z,{label:"Attached Files"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(v.value,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id},[(0,l.Wm)(w.Z,{class:"justify-start lg:justify-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(g.Z,{color:"info",icon:(0,n.SU)(i.rgx),label:"View Attachment",onClick:t=>C(e.url)},null,8,["icon","onClick"]),(0,l.Wm)(g.Z,{color:"danger",icon:(0,n.SU)(i.QGK),label:"Delete Attachments",onClick:t=>j(e.id)},null,8,["icon","onClick"])])),_:2},1024)])))),128))])),_:1}),(0,l.Wm)(r.Z),(0,l.Wm)(r.Z),(0,l.Wm)(w.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g.Z,{color:"info",label:"Send",onClick:_})])),_:1})])),_:1},8,["icon"])])),_:1})]))}};const v=h;var y=v}}]);
//# sourceMappingURL=584.0edad2c4.js.map