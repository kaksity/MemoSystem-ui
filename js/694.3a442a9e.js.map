{"version":3,"file":"js/694.3a442a9e.js","mappings":"mLAAO,SAASA,EAAaC,EAAIC,GAC/B,OAAOD,EAAGE,QAAO,SAAUC,EAAIC,GAE7B,OADCD,EAAGC,EAAEH,IAAQE,EAAGC,EAAEH,KAAS,IAAII,KAAKD,GAC9BD,CACT,GAAG,CAAC,EACN,C,+UCSA,MAAMG,GAAQC,EAAAA,EAAAA,MAERC,GAAeC,EAAAA,EAAAA,KAAS,KAC5B,MAAMC,EAAO,GACPC,EAAcL,EAAMM,UAAUC,OAUpC,OARIF,EAAc,GAChBD,EAAKL,KAAK,0BAGQ,IAAhBM,GACFD,EAAKL,KAAK,kBAGLK,CAAI,I,+RCzBb,MAAMI,EAAc,EAEpB,O,wPCSA,MAAMC,GAAeC,EAAAA,EAAAA,MAEfC,GAASC,EAAAA,EAAAA,IAAI,IAEbC,GAAOC,EAAAA,EAAAA,IAAS,CACpBC,YAAa,GACbC,YAAa,GACbC,gBAAiB,KAGnB,SAASC,IACPP,EAAOQ,MAAQ,CAAC,CAClB,CAEA,SAASC,IACPP,EAAKE,YAAc,GACnBF,EAAKG,YAAc,GACnBH,EAAKI,gBAAkB,EACzB,CAEA,MAAMI,EAASA,KACbH,IACA,MAAMI,EAAc,CAClBP,YAAaF,EAAKE,YAClBC,YAAaH,EAAKG,YAClBC,gBAAiBJ,EAAKI,iBAExBM,EAAAA,EAAAA,KAAS,wBAAyBD,GAAaE,MAAMC,IACnDhB,EAAaiB,QAAQD,EAASE,SAC9BP,GAAa,IACZQ,OAAOC,IACJA,EAAMlB,OACRA,EAAOQ,OAAQ1B,EAAAA,EAAAA,GAAYoC,EAAMlB,OAAQ,SAEzCF,EAAaoB,MAAMA,EAAMC,OAC3B,GACA,E,ulCC/CJ,MAAMtB,EAAc,EAEpB,O","sources":["webpack://admin-one-vue-tailwind/./src/helpers/group-errors.js","webpack://admin-one-vue-tailwind/./src/components/Field.vue","webpack://admin-one-vue-tailwind/./src/components/Field.vue?7442","webpack://admin-one-vue-tailwind/./src/views/Settings/ChangePassword.vue","webpack://admin-one-vue-tailwind/./src/views/Settings/ChangePassword.vue?e833"],"sourcesContent":["export function groupErrors (xs, key) {\n  return xs.reduce(function (rv, x) {\n    (rv[x[key]] = rv[x[key]] || []).push(x)\n    return rv\n  }, {})\n};\n","<script setup>\nimport { computed, useSlots } from 'vue'\n\ndefineProps({\n  label: {\n    type: String,\n    default: null\n  },\n  help: {\n    type: String,\n    default: null\n  }\n})\n\nconst slots = useSlots()\n\nconst wrapperClass = computed(() => {\n  const base = []\n  const slotsLength = slots.default().length\n\n  if (slotsLength > 1) {\n    base.push('grid grid-cols-1 gap-3')\n  }\n\n  if (slotsLength === 2) {\n    base.push('md:grid-cols-2')\n  }\n\n  return base\n})\n</script>\n\n<template>\n  <div class=\"mb-6 last:mb-0\">\n    <label\n      v-if=\"label\"\n      class=\"block font-bold mb-2\"\n    >{{ label }}</label>\n    <div :class=\"wrapperClass\">\n      <slot />\n    </div>\n    <div\n      v-if=\"help\"\n      class=\"text-xs text-red-500 dark:text-red-400 mt-1\"\n    >\n      {{ help[0].message }}\n    </div>\n  </div>\n</template>\n","import script from \"./Field.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Field.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { reactive, ref } from 'vue'\nimport { mdiBallot } from '@mdi/js'\nimport MainSection from '@/components/MainSection.vue'\nimport CardComponent from '@/components/CardComponent.vue'\nimport Field from '@/components/Field.vue'\nimport Control from '@/components/Control.vue'\nimport Divider from '@/components/Divider.vue'\nimport JbButton from '@/components/JbButton.vue'\nimport JbButtons from '@/components/JbButtons.vue'\nimport Api from '@/api'\nimport { useToast } from 'vue-toastification'\nimport { groupErrors } from '@/helpers'\n\nconst toastMessage = useToast()\n\nconst errors = ref([])\n\nconst form = reactive({\n  oldPassword: '',\n  newPassword: '',\n  confirmPassword: ''\n})\n\nfunction clearError () {\n  errors.value = {}\n}\n\nfunction clearInputs () {\n  form.oldPassword = ''\n  form.newPassword = ''\n  form.confirmPassword = ''\n}\n\nconst submit = () => {\n  clearError()\n  const requestBody = {\n    oldPassword: form.oldPassword,\n    newPassword: form.newPassword,\n    confirmPassword: form.confirmPassword\n  }\n  Api.post('/auth/change-password', requestBody).then((response) => {\n    toastMessage.success(response.message)\n    clearInputs()\n  }).catch((error) => {\n    if (error.errors) {\n      errors.value = groupErrors(error.errors, 'field')\n    } else {\n      toastMessage.error(error.detail)\n    }\n  })\n}\n</script>\n<template>\n  <div>\n    <main-section>\n      <card-component\n        title=\"Change Passowrd\"\n        :icon=\"mdiBallot\"\n        form\n        @submit.prevent=\"submit\"\n      >\n        <field\n          label=\"Old Password\"\n          :help=\"errors.oldPassword\"\n        >\n          <control\n            v-model=\"form.oldPassword\"\n            type=\"password\"\n          />\n        </field>\n        <field\n          label=\"New Password\"\n          :help=\"errors.newPassword\"\n        >\n          <control\n            v-model=\"form.newPassword\"\n            type=\"password\"\n          />\n        </field>\n        <field\n          label=\"Confirm Password\"\n          :help=\"errors.confirmPassword\"\n        >\n          <control\n            v-model=\"form.confirmPassword\"\n            type=\"password\"\n          />\n        </field>\n        <divider />\n        <jb-buttons>\n          <jb-button\n            type=\"submit\"\n            color=\"info\"\n            label=\"Submit\"\n          />\n        </jb-buttons>\n      </card-component>\n    </main-section>\n  </div>\n</template>\n","import script from \"./ChangePassword.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChangePassword.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["groupErrors","xs","key","reduce","rv","x","push","slots","useSlots","wrapperClass","computed","base","slotsLength","default","length","__exports__","toastMessage","useToast","errors","ref","form","reactive","oldPassword","newPassword","confirmPassword","clearError","value","clearInputs","submit","requestBody","Api","then","response","success","message","catch","error","detail"],"sourceRoot":""}