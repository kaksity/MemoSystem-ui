"use strict";(self["webpackChunkadmin_one_vue_tailwind"]=self["webpackChunkadmin_one_vue_tailwind"]||[]).push([[747],{5690:function(e,t,l){l.d(t,{Z:function(){return d}});var n=l(6252),a=l(3577),i=l(2262);const s={class:"mb-6 last:mb-0"},u={key:0,class:"block font-bold mb-2"},r={key:1,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"};var o={props:{label:{type:String,default:null},help:{type:String,default:null}},setup(e){const t=(0,n.Rr)(),l=(0,n.Fl)((()=>{const e=[],l=t.default().length;return l>1&&e.push("grid grid-cols-1 gap-3"),2===l&&e.push("md:grid-cols-2"),e}));return(t,o)=>((0,n.wg)(),(0,n.iD)("div",s,[e.label?((0,n.wg)(),(0,n.iD)("label",u,(0,a.zw)(e.label),1)):(0,n.kq)("",!0),(0,n._)("div",{class:(0,a.C_)((0,i.SU)(l))},[(0,n.WI)(t.$slots,"default")],2),e.help?((0,n.wg)(),(0,n.iD)("div",r,(0,a.zw)(e.help),1)):(0,n.kq)("",!0)]))}};const c=o;var d=c},3221:function(e,t,l){l.r(t),l.d(t,{default:function(){return y}});var n=l(6252),a=l(2262),i=l(9963),s=l(3577),u=l(5317),r=l(7315),o=l(9890),c=l(5690),d=l(2213),m=l(5693),p=l(1388),g=l(6373),f=l(8400),v=l(3002);const b={key:0,class:"bg-opacity-50 p-3 dark:bg-gray-800"},w=["onClick"];var h={setup(e){const t=(0,a.iH)([]),l=(0,v.pm)(),h=(0,a.iH)(null),k=(0,a.iH)([]),y=(0,a.iH)({}),_=(0,a.qj)({receipients:null,message:"",title:""});function Z(){k.value=[],_.message="",_.title="",h.value.setHTML("")}function W(){const e=k.value.find((e=>e.receipient===y.value.id));e||k.value.push({receipient:y.value.id,name:y.value.label})}function S(e){const t=[];k.value.forEach((l=>{l.receipient!==e&&t.push(l)})),k.value=t}async function U(){try{const e=await f.Z.get("/users");e.data.forEach((e=>{t.value.push({id:e.id,label:e.fullName})}))}catch(e){l.error(e.message)}}(0,n.bv)((async()=>{await U()}));const C=async()=>{try{if(0===k.value.length)return void l.error("You must select atleast 1 receipient");if(""===_.title)return void l.error("Message Title is required");if(""===_.message)return void l.error("Message Content is required");_.receipients=k;const e=await f.Z.post("/messages",_);l.success(e.message),Z()}catch(e){l.error(e.message)}};return(e,l)=>{const f=(0,n.up)("QuillEditor");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(r.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(o.Z,{title:"Create Message",icon:(0,a.SU)(u.hjO),form:"",onSubmit:(0,i.iM)(C,["prevent"])},{default:(0,n.w5)((()=>[(0,n.Wm)(c.Z,{label:"Receipient"},{default:(0,n.w5)((()=>[(0,n.Wm)(d.Z,{modelValue:y.value,"onUpdate:modelValue":l[0]||(l[0]=e=>y.value=e),options:t.value,onChange:W},null,8,["modelValue","options"])])),_:1}),k.value.length?((0,n.wg)(),(0,n.iD)("div",b,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(k.value,(e=>((0,n.wg)(),(0,n.iD)("span",{key:e.receipient,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm dark:bg-gray-700 light:bg-gray-300"},[(0,n.Uk)((0,s.zw)(e.name)+" ",1),(0,n._)("span",null,[(0,n._)("button",{class:"inline-block bg-red-700 p-1 rounded-sm mr-2 text-white-700",onClick:t=>S(e.receipient)},"X",8,w)])])))),128))])):(0,n.kq)("",!0),(0,n.Wm)(m.Z),(0,n.Wm)(c.Z,{label:"Message Title"},{default:(0,n.w5)((()=>[(0,n.Wm)(d.Z,{modelValue:(0,a.SU)(_).title,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,a.SU)(_).title=e)},null,8,["modelValue"])])),_:1}),(0,n.Wm)(m.Z),(0,n.Wm)(c.Z,{label:"Message Content"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{ref_key:"editor",ref:h,content:(0,a.SU)(_).message,"onUpdate:content":l[2]||(l[2]=e=>(0,a.SU)(_).message=e),theme:"snow","content-type":"html",toolbar:"full"},null,8,["content"])])),_:1}),(0,n.Wm)(m.Z),(0,n.Wm)(g.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p.Z,{type:"submit",color:"info",label:"Send"})])),_:1})])),_:1},8,["icon","onSubmit"])])),_:1})])}}};const k=h;var y=k}}]);
//# sourceMappingURL=747.25b56daf.js.map