"use strict";(self["webpackChunkadmin_one_vue_tailwind"]=self["webpackChunkadmin_one_vue_tailwind"]||[]).push([[196],{6291:function(e,t,l){l.d(t,{Z:function(){return s}});var a=l(6252),n=l(3577),o={__name:"DataTable",props:{theads:Array},setup(e){return(t,l)=>((0,a.wg)(),(0,a.iD)("table",null,[(0,a._)("thead",null,[(0,a._)("tr",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.theads,((e,t)=>((0,a.wg)(),(0,a.iD)("th",{key:t},(0,n.zw)(e),1)))),128))])]),(0,a._)("tbody",null,[(0,a.WI)(t.$slots,"default")])]))}};const r=o;var s=r},7701:function(e,t,l){l.d(t,{Z:function(){return D}});var a=l(6252),n=l(3577);const o={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"};function r(e,t,l,r,s,u){const i=(0,a.up)("BaseButton"),c=(0,a.up)("BaseButtons"),d=(0,a.up)("BaseLevel");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,{disabled:l.currentPage-1===0,label:"<<",small:"",color:e.page===l.currentPage?"lightDark":"whiteDark",onClick:t[0]||(t[0]=t=>e.$emit("goToFirstPage"))},null,8,["disabled","color"]),(0,a.Wm)(i,{disabled:l.currentPage-1===0,label:"<",small:"",color:e.page===l.currentPage?"lightDark":"whiteDark",onClick:t[1]||(t[1]=t=>e.$emit("goToPreviousPage"))},null,8,["disabled","color"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.totalNumberOfPages,(t=>((0,a.wg)(),(0,a.j4)(i,{key:t,active:t===l.currentPage,label:t,small:"",color:t===l.currentPage?"info":"whiteDark",onClick:l=>e.$emit("goToCurrentPage",t)},null,8,["active","label","color","onClick"])))),128)),(0,a.Wm)(i,{label:">",disabled:l.currentPage+1>l.totalNumberOfPages,small:"",color:e.page===l.currentPage?"lightDark":"whiteDark",onClick:t[2]||(t[2]=t=>e.$emit("goToNextPage"))},null,8,["disabled","color"]),(0,a.Wm)(i,{label:">>",disabled:l.currentPage+1>l.totalNumberOfPages,small:"",color:e.page===l.currentPage?"lightDark":"whiteDark",onClick:t[3]||(t[3]=t=>e.$emit("goToLastPage"))},null,8,["disabled","color"])])),_:1}),(0,a._)("small",null,"Page "+(0,n.zw)(l.currentPage)+" of "+(0,n.zw)(l.totalNumberOfPages),1)])),_:1})])}var s=(0,a.aZ)({name:"BaseLevel",props:{mobile:Boolean,type:{type:String,default:"justify-between"}},render(){const e=[this.type,"items-center"],t=["flex"],l=["block","md:flex"],n=["flex","items-center","justify-center"];return(0,a.h)("div",{class:e.concat(this.mobile?t:l)},this.$slots.default().map(((e,t)=>{const l=!this.mobile&&this.$slots.default().length>t+1?n.concat(["mb-6","md:mb-0"]):n;return(0,a.h)("div",{class:l},[e])})))}});const u=s;var i=u,c=(l(7658),(0,a.aZ)({name:"BaseButtons",props:{noWrap:Boolean,type:{type:String,default:"justify-start"},classAddon:{type:String,default:"mr-3 last:mr-0 mb-3"},mb:{type:String,default:"-mb-3"}},render(){const e=this.$slots&&this.$slots.default,t=["flex","items-center",this.type,this.noWrap?"flex-nowrap":"flex-wrap"];return this.mb&&t.push(this.mb),(0,a.h)("div",{class:t},e?this.$slots.default().map((e=>e&&e.children&&"object"===typeof e.children?(0,a.h)(e,{},e.children.map((e=>(0,a.h)(e,{class:[this.classAddon]})))):(0,a.h)(e,{class:[this.classAddon]}))):null)}}));const d=c;var g=d,p=l(2262),m=l(2201),f=l(1088);const b=["width","height"],h=["d"];var w={__name:"BaseIcon",props:{path:{type:String,required:!0},w:{type:String,default:"w-6"},h:{type:String,default:"h-6"},size:{type:[String,Number],default:null}},setup(e){const t=e,l=(0,a.Fl)((()=>`inline-flex justify-center items-center ${t.w} ${t.h}`)),o=(0,a.Fl)((()=>t.size??16));return(t,r)=>((0,a.wg)(),(0,a.iD)("span",{class:(0,n.C_)((0,p.SU)(l))},[((0,a.wg)(),(0,a.iD)("svg",{viewBox:"0 0 24 24",width:(0,p.SU)(o),height:(0,p.SU)(o),class:"inline-block"},[(0,a._)("path",{fill:"currentColor",d:e.path},null,8,h)],8,b)),(0,a.WI)(t.$slots,"default")],2))}};const y=w;var v=y,_={__name:"BaseButton",props:{label:{type:[String,Number],default:null},icon:{type:String,default:null},iconSize:{type:[String,Number],default:null},href:{type:String,default:null},target:{type:String,default:null},to:{type:[String,Object],default:null},type:{type:String,default:null},color:{type:String,default:"white"},as:{type:String,default:null},small:Boolean,outline:Boolean,active:Boolean,disabled:Boolean,roundedFull:Boolean},setup(e){const t=e,l=(0,a.Fl)((()=>t.as?t.as:t.to?m.rH:t.href?"a":"button")),o=(0,a.Fl)((()=>"button"===l.value?t.type??"button":null)),r=(0,a.Fl)((()=>t.small&&t.icon?"px-1":"px-2")),s=(0,a.Fl)((()=>{const e=["inline-flex","justify-center","items-center","whitespace-nowrap","focus:outline-none","transition-colors","focus:ring","duration-150","border",t.disabled?"cursor-not-allowed":"cursor-pointer",t.roundedFull?"rounded-full":"rounded",(0,f.pQ)(t.color,t.outline,!t.disabled,t.active)];return!t.label&&t.icon?e.push("p-1"):t.small?e.push("text-sm",t.roundedFull?"px-3 py-1":"p-1"):e.push("py-2",t.roundedFull?"px-6":"px-3"),t.disabled&&e.push(t.outline?"opacity-50":"opacity-70"),e}));return(t,u)=>((0,a.wg)(),(0,a.j4)((0,a.LL)((0,p.SU)(l)),{class:(0,n.C_)((0,p.SU)(s)),href:e.href,type:(0,p.SU)(o),to:e.to,target:e.target,disabled:e.disabled},{default:(0,a.w5)((()=>[e.icon?((0,a.wg)(),(0,a.j4)(v,{key:0,path:e.icon,size:e.iconSize},null,8,["path","size"])):(0,a.kq)("",!0),e.label?((0,a.wg)(),(0,a.iD)("span",{key:1,class:(0,n.C_)((0,p.SU)(r))},(0,n.zw)(e.label),3)):(0,a.kq)("",!0)])),_:1},8,["class","href","type","to","target","disabled"]))}};const k=_;var S=k,P={components:{BaseLevel:i,BaseButton:S,BaseButtons:g},props:{totalNumberOfPages:{type:Number},currentPage:{type:Number}},setup(){return{}}},B=l(3744);const C=(0,B.Z)(P,[["render",r]]);var D=C},7841:function(e,t,l){l.d(t,{Z:function(){return h}});var a=l(6252),n=l(2262),o=l(3577),r=l(9963),s=l(5317),u=l(1388),i=l(6373),c=l(9890),d=l(5693),g=l(7689);const p={class:"space-y-3"},m={key:0,class:"text-2xl"};var f={__name:"ModalBox",props:{title:{type:String,default:null},largeTitle:{type:String,default:null},button:{type:String,default:"info"},buttonLabel:{type:String,default:"Done"},hasCancel:Boolean,modelValue:{type:[String,Number,Boolean],default:null}},emits:["update:modelValue","cancel","confirm"],setup(e,{emit:t}){const l=e,f=(0,a.Fl)({get:()=>l.modelValue,set:e=>t("update:modelValue",e)}),b=e=>{f.value=!1,t(e)},h=()=>b("confirm"),w=()=>b("cancel");return(t,l)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(g.Z,{onOverlayClick:w},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(c.Z,{title:e.title,class:"shadow-lg w-full max-h-modal md:w-3/5 lg:w-2/5 z-50",rounded:"rounded-lg","header-icon":(0,n.SU)(s.r5M),modal:"",onHeaderIconClick:w},{default:(0,a.w5)((()=>[(0,a._)("div",p,[e.largeTitle?((0,a.wg)(),(0,a.iD)("h1",m,(0,o.zw)(e.largeTitle),1)):(0,a.kq)("",!0),(0,a.WI)(t.$slots,"default")]),(0,a.Wm)(d.Z),(0,a.Wm)(i.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.Z,{label:e.buttonLabel,color:e.button,onClick:h},null,8,["label","color"]),e.hasCancel?((0,a.wg)(),(0,a.j4)(u.Z,{key:0,label:"Cancel",color:e.button,outline:"",onClick:w},null,8,["color"])):(0,a.kq)("",!0)])),_:1})])),_:3},8,["title","header-icon"]),[[r.F8,(0,n.SU)(f)]])])),_:3},512)),[[r.F8,(0,n.SU)(f)]])}};const b=f;var h=b},196:function(e,t,l){l.r(t),l.d(t,{default:function(){return P}});l(7658);var a=l(6252),n=l(3577),o=l(2262),r=l(7315),s=l(6291),u=l(9890),i=l(7877),c=l(7841),d=l(6373),g=l(1388),p=l(7701),m=l(5317),f=l(3002),b=l(2201);const h={"data-label":"Title"},w={"data-label":"Date"},y={"data-label":"Date"},v={class:"actions-cell"},_=(0,a._)("p",null,"Do you wish to delete this record?",-1);var k={__name:"ListOfSelfMessage",setup(e){const t=["Title","Date","Created By","Action"],l=(0,b.tv)(),k=(0,o.iH)([]),S=(0,f.pm)(),P=(0,o.iH)(!1),B=(0,o.iH)(""),C=(0,o.iH)({}),D=(0,o.qj)({page:1,limit:100}),x=(0,o.iH)(1);async function W(){try{const{data:e,meta:t}=await i.Z.get("/messages/self",{params:D});k.value=e,C.value=t,x.value=t.current_page}catch(e){S.error(e.message)}}async function Z(){D.page++,await W()}async function $(){D.page--,await W()}async function T(e){D.page=e,await W()}async function j(){D.page=C.value.first_page,await W()}async function z(){D.page=C.value.last_page,await W()}function F(e){i.Z["delete"](`/messages/${e}`).then((({message:e})=>{S.success(e),W()})).catch((e=>{S.error(e.detail)}))}return(0,a.bv)((async()=>{await W()})),(e,i)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(r.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.Z,{class:"mb-6",title:"List of Created Messages","has-table":""},{default:(0,a.w5)((()=>[(0,a.Wm)(s.Z,{theads:t},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(k.value,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",h,(0,n.zw)(e.title),1),(0,a._)("td",w,(0,n.zw)(e.date),1),(0,a._)("td",y,(0,n.zw)(e.user.fullName),1),(0,a._)("td",v,[(0,a.Wm)(d.Z,{type:"justify-start lg:justify-center","no-wrap":""},{default:(0,a.w5)((()=>[(0,a.Wm)(g.Z,{color:"info",icon:(0,o.SU)(m.rgx),small:"",onClick:t=>(0,o.SU)(l).push(`/message/${e.id}/view`)},null,8,["icon","onClick"]),(0,a.Wm)(g.Z,{color:"danger",icon:(0,o.SU)(m.QGK),small:"",onClick:t=>(P.value=!0,B.value=e.id)},null,8,["icon","onClick"])])),_:2},1024)])])))),128))])),_:1}),(0,a.Wm)(p.Z,{"total-number-of-pages":C.value.last_page,"current-page":x.value,onGoToFirstPage:j,onGoToLastPage:z,onGoToNextPage:Z,onGoToPreviousPage:$,onGoToCurrentPage:T},null,8,["total-number-of-pages","current-page"])])),_:1})])),_:1}),(0,a.Wm)(c.Z,{modelValue:P.value,"onUpdate:modelValue":i[0]||(i[0]=e=>P.value=e),"large-title":"Please confirm",button:"danger","has-cancel":"",onConfirm:i[1]||(i[1]=e=>F(B.value))},{default:(0,a.w5)((()=>[_])),_:1},8,["modelValue"])]))}};const S=k;var P=S}}]);
//# sourceMappingURL=196.1f8cb23b.js.map