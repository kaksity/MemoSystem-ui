"use strict";(self["webpackChunkadmin_one_vue_tailwind"]=self["webpackChunkadmin_one_vue_tailwind"]||[]).push([[116],{9443:function(e,l,a){a.d(l,{r:function(){return u}});a(7658);function u(e,l){return e.reduce((function(e,a){return(e[a[l]]=e[a[l]]||[]).push(a),e}),{})}},5690:function(e,l,a){a.d(l,{Z:function(){return i}});a(7658);var u=a(6252),t=a(3577),n=a(2262);const o={class:"mb-6 last:mb-0"},r={key:0,class:"block font-bold mb-2"},s={key:1,class:"text-xs text-red-500 dark:text-red-400 mt-1"};var d={__name:"Field",props:{label:{type:String,default:null},help:{type:String,default:null}},setup(e){const l=(0,u.Rr)(),a=(0,u.Fl)((()=>{const e=[],a=l.default().length;return a>1&&e.push("grid grid-cols-1 gap-3"),2===a&&e.push("md:grid-cols-2"),e}));return(l,d)=>((0,u.wg)(),(0,u.iD)("div",o,[e.label?((0,u.wg)(),(0,u.iD)("label",r,(0,t.zw)(e.label),1)):(0,u.kq)("",!0),(0,u._)("div",{class:(0,t.C_)((0,n.SU)(a))},[(0,u.WI)(l.$slots,"default")],2),e.help?((0,u.wg)(),(0,u.iD)("div",s,(0,t.zw)(e.help[0].message),1)):(0,u.kq)("",!0)]))}};const m=d;var i=m},4116:function(e,l,a){a.r(l),a.d(l,{default:function(){return _}});var u=a(6252),t=a(2262),n=a(9963),o=a(5317),r=a(7315),s=a(9890),d=a(5690),m=a(2213),i=a(5693),p=a(1388),c=a(6373),f=a(7877),w=a(3002),b=a(9443),h={__name:"CreateUser",setup(e){const l=(0,t.iH)([]),a=(0,w.pm)(),h=(0,t.iH)([]),v=(0,t.qj)({fullName:"",username:"",password:"",roleId:""});function _(){h.value={}}function Z(){v.fullName="",v.username="",v.password="",v.role=""}async function g(){try{const{data:e}=await f.Z.get("/roles");l.value=e.map((({id:e,name:l})=>({id:e,label:l})))}catch(e){a.error(e.detail)}}(0,u.bv)((async()=>{await g()}));const W=()=>{_(),f.Z.post("/users",{...v,roleId:v.roleId.id}).then((({message:e})=>{a.success(e),Z()})).catch((e=>{e.errors?h.value=(0,b.r)(e.errors,"field"):a.error(e.detail)}))};return(e,a)=>((0,u.wg)(),(0,u.iD)("div",null,[(0,u.Wm)(r.Z,null,{default:(0,u.w5)((()=>[(0,u.Wm)(s.Z,{title:"Forms",icon:(0,t.SU)(o.hjO),form:"",onSubmit:(0,n.iM)(W,["prevent"])},{default:(0,u.w5)((()=>[(0,u.Wm)(d.Z,{label:"Full Name",help:h.value.fullName},{default:(0,u.w5)((()=>[(0,u.Wm)(m.Z,{modelValue:v.fullName,"onUpdate:modelValue":a[0]||(a[0]=e=>v.fullName=e)},null,8,["modelValue"])])),_:1},8,["help"]),(0,u.Wm)(d.Z,{label:"Role",help:h.value.roleId},{default:(0,u.w5)((()=>[(0,u.Wm)(m.Z,{modelValue:v.roleId,"onUpdate:modelValue":a[1]||(a[1]=e=>v.roleId=e),options:l.value},null,8,["modelValue","options"])])),_:1},8,["help"]),(0,u.Wm)(d.Z,{label:"Username",help:h.value.username},{default:(0,u.w5)((()=>[(0,u.Wm)(m.Z,{modelValue:v.username,"onUpdate:modelValue":a[2]||(a[2]=e=>v.username=e),name:"username",autocomplete:"username"},null,8,["modelValue"])])),_:1},8,["help"]),(0,u.Wm)(d.Z,{label:"Password",help:h.value.password},{default:(0,u.w5)((()=>[(0,u.Wm)(m.Z,{modelValue:v.password,"onUpdate:modelValue":a[3]||(a[3]=e=>v.password=e),type:"password",name:"password",autocomplete:"current-password"},null,8,["modelValue"])])),_:1},8,["help"]),(0,u.Wm)(i.Z),(0,u.Wm)(c.Z,null,{default:(0,u.w5)((()=>[(0,u.Wm)(p.Z,{type:"submit",color:"info",label:"Submit"})])),_:1})])),_:1},8,["icon","onSubmit"])])),_:1})]))}};const v=h;var _=v}}]);
//# sourceMappingURL=116.34261eed.js.map