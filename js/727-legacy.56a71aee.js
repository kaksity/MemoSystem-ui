(self["webpackChunkadmin_one_vue_tailwind"]=self["webpackChunkadmin_one_vue_tailwind"]||[]).push([[727],{8533:function(e,t,n){"use strict";var r=n(2092).forEach,u=n(9341),a=u("forEach");e.exports=a?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},9341:function(e,t,n){"use strict";var r=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},7066:function(e,t,n){"use strict";var r=n(9670);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},9826:function(e,t,n){"use strict";var r=n(2109),u=n(2092).find,a=n(1223),i="find",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),r({target:"Array",proto:!0,forced:o},{find:function(e){return u(this,e,arguments.length>1?arguments[1]:void 0)}}),a(i)},9714:function(e,t,n){"use strict";var r=n(1702),u=n(6530).PROPER,a=n(1320),i=n(9670),o=n(7976),l=n(1340),c=n(7293),s=n(7066),p="toString",f=RegExp.prototype,m=f[p],d=r(s),v=c((function(){return"/a/b"!=m.call({source:"a",flags:"b"})})),g=u&&m.name!=p;(v||g)&&a(RegExp.prototype,p,(function(){var e=i(this),t=l(e.source),n=e.flags,r=l(void 0===n&&o(f,e)&&!("flags"in f)?d(e):n);return"/"+t+"/"+r}),{unsafe:!0})},4747:function(e,t,n){var r=n(7854),u=n(8324),a=n(8509),i=n(8533),o=n(8880),l=function(e){if(e&&e.forEach!==i)try{o(e,"forEach",i)}catch(t){e.forEach=i}};for(var c in u)u[c]&&l(r[c]&&r[c].prototype);l(a)},5690:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(6252),u=n(3577),a=n(2262),i={class:"mb-6 last:mb-0"},o={key:0,class:"block font-bold mb-2"},l={key:1,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},c={props:{label:{type:String,default:null},help:{type:String,default:null}},setup:function(e){var t=(0,r.Rr)(),n=(0,r.Fl)((function(){var e=[],n=t.default().length;return n>1&&e.push("grid grid-cols-1 gap-3"),2===n&&e.push("md:grid-cols-2"),e}));return function(t,c){return(0,r.wg)(),(0,r.iD)("div",i,[e.label?((0,r.wg)(),(0,r.iD)("label",o,(0,u.zw)(e.label),1)):(0,r.kq)("",!0),(0,r._)("div",{class:(0,u.C_)((0,a.SU)(n))},[(0,r.WI)(t.$slots,"default")],2),e.help?((0,r.wg)(),(0,r.iD)("div",l,(0,u.zw)(e.help),1)):(0,r.kq)("",!0)])}}};const s=c;var p=s},7318:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var r=n(8534),u=(n(5666),n(1539),n(9714),n(9826),n(4747),n(8309),n(1249),n(6252)),a=n(2262),i=n(9963),o=n(3577),l=n(5317),c=n(7315),s=n(9890),p=n(5690),f=n(2213),m=n(5693),d=n(1388),v=n(8146),g=n(8400),h=n(3002),b=n(2119),w={key:0,class:"bg-opacity-50 p-3 dark:bg-gray-800"},k=["onClick"],y={setup:function(e){var t=(0,b.yj)(),n=(0,a.iH)([]),y=(0,a.iH)(null),x=(0,h.pm)(),Z=(0,a.iH)({}),_=(0,a.iH)(t.params.memoId),W=(0,a.iH)([]),R=(0,a.iH)({}),S=(0,a.qj)({receipients:null,content:"",title:"",date:(new Date).toString()});function E(e){return U.apply(this,arguments)}function U(){return U=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.get("/memos/".concat(t,"/receipients"));case 3:n=e.sent,W.value=n.data.receipients,W.value=W.value.map((function(e){return{receipient:e.user.id,name:e.user.fullName}})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),x.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),U.apply(this,arguments)}function D(e){return C.apply(this,arguments)}function C(){return C=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.get("/memos/".concat(t));case 3:n=e.sent,Z.value=n.data.memo,S.title=Z.value.title,S.date=Z.value.date,S.content=Z.value.content,y.value.setHTML(S.content),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),x.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),C.apply(this,arguments)}function H(){W.value=[],S.content="",S.date=(new Date).toString(),S.title="",y.value.setHTML(S.content)}function V(){var e=W.value.find((function(e){return e.receipient===R.value.id}));e||W.value.push({receipient:R.value.id,name:R.value.label})}function M(e){var t=[];W.value.forEach((function(n){n.receipient!==e&&t.push(n)})),W.value=t}function q(){return T.apply(this,arguments)}function T(){return T=(0,r.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.get("/users");case 3:t=e.sent,t.data.forEach((function(e){n.value.push({id:e.id,label:e.fullName})})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),x.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),T.apply(this,arguments)}(0,u.bv)((0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return e.next=4,D(_.value);case 4:return e.next=6,E(_.value);case 6:case"end":return e.stop()}}),e)}))));var j=function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,0!==W.value.length){e.next=6;break}return x.error("You must select atleast 1 receipient"),e.abrupt("return");case 6:if(""!==S.title){e.next=11;break}return x.error("Memo Title is required"),e.abrupt("return");case 11:if(""!==S.content){e.next=14;break}return x.error("Memo Content is required"),e.abrupt("return");case 14:return S.receipients=W,e.next=17,g.Z.put("/memos/".concat(_.value),S);case 17:t=e.sent,x.success(t.message),H(),e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](0),x.error(e.t0.message);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}();return function(e,t){var r=(0,u.up)("datepicker"),g=(0,u.up)("QuillEditor");return(0,u.wg)(),(0,u.iD)("div",null,[(0,u.Wm)(c.Z,null,{default:(0,u.w5)((function(){return[(0,u.Wm)(s.Z,{title:"Edit Memo",icon:(0,a.SU)(l.hjO),form:"",onSubmit:(0,i.iM)(j,["prevent"])},{default:(0,u.w5)((function(){return[(0,u.Wm)(p.Z,{label:"Receipient"},{default:(0,u.w5)((function(){return[(0,u.Wm)(f.Z,{modelValue:R.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return R.value=e}),options:n.value,onChange:V},null,8,["modelValue","options"])]})),_:1}),W.value.length?((0,u.wg)(),(0,u.iD)("div",w,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(W.value,(function(e){return(0,u.wg)(),(0,u.iD)("span",{key:e.receipient,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm dark:bg-gray-700 light:bg-gray-300"},[(0,u.Uk)((0,o.zw)(e.name)+" ",1),(0,u._)("span",null,[(0,u._)("button",{class:"inline-block bg-red-700 p-1 rounded-sm mr-2 text-white-700",onClick:function(t){return M(e.receipient)}},"X",8,k)])])})),128))])):(0,u.kq)("",!0),(0,u.Wm)(m.Z),(0,u.Wm)(p.Z,{label:"Memo Title"},{default:(0,u.w5)((function(){return[(0,u.Wm)(f.Z,{modelValue:(0,a.SU)(S).title,"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,a.SU)(S).title=e})},null,8,["modelValue"])]})),_:1}),(0,u.Wm)(m.Z),(0,u.Wm)(p.Z,{label:"Date"},{default:(0,u.w5)((function(){return[(0,u.Wm)(r,{modelValue:(0,a.SU)(S).date,"onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,a.SU)(S).date=e}),"auto-apply":"","alt-position":""},null,8,["modelValue"])]})),_:1}),(0,u.Wm)(m.Z),(0,u.Wm)(p.Z,{label:"Memo Content"},{default:(0,u.w5)((function(){return[(0,u.Wm)(g,{ref_key:"editor",ref:y,content:(0,a.SU)(S).content,"onUpdate:content":t[3]||(t[3]=function(e){return(0,a.SU)(S).content=e}),theme:"snow","content-type":"html",toolbar:"full"},null,8,["content"])]})),_:1}),(0,u.Wm)(m.Z),(0,u.Wm)(v.Z,null,{default:(0,u.w5)((function(){return[(0,u.Wm)(d.Z,{type:"submit",color:"info",label:"Send"})]})),_:1})]})),_:1},8,["icon","onSubmit"])]})),_:1})])}}};const x=y;var Z=x}}]);
//# sourceMappingURL=727-legacy.56a71aee.js.map