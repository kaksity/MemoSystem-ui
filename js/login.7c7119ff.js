"use strict";(self["webpackChunkadmin_one_vue_tailwind"]=self["webpackChunkadmin_one_vue_tailwind"]||[]).push([[535],{5690:function(e,l,a){a.d(l,{Z:function(){return i}});var s=a(6252),r=a(3577),t=a(2262);const o={class:"mb-6 last:mb-0"},n={key:0,class:"block font-bold mb-2"},u={key:1,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"};var d={props:{label:{type:String,default:null},help:{type:String,default:null}},setup(e){const l=(0,s.Rr)(),a=(0,s.Fl)((()=>{const e=[],a=l.default().length;return a>1&&e.push("grid grid-cols-1 gap-3"),2===a&&e.push("md:grid-cols-2"),e}));return(l,d)=>((0,s.wg)(),(0,s.iD)("div",o,[e.label?((0,s.wg)(),(0,s.iD)("label",n,(0,r.zw)(e.label),1)):(0,s.kq)("",!0),(0,s._)("div",{class:(0,r.C_)((0,t.SU)(a))},[(0,s.WI)(l.$slots,"default")],2),e.help?((0,s.wg)(),(0,s.iD)("div",u,(0,r.zw)(e.help),1)):(0,s.kq)("",!0)]))}};const m=d;var i=m},218:function(e,l,a){a.r(l),a.d(l,{default:function(){return C}});var s=a(6252),r=a(3577),t=a(9963),o=a(2262),n=a(2119),u=a(5317),d=a(8637),m=a(1088),i=a(7315),c={props:{bg:{type:String,required:!0,validator:e=>["login","error"].includes(e)}},setup(e){const l=e,a=(0,d.oR)(),t=(0,s.Fl)((()=>a.state.darkMode)),n=(0,s.Fl)((()=>{switch(l.bg){case"login":return t.value?m.K3:m.jH;case"error":return t.value?m.bW:m.Zi}return""}));return(e,l)=>((0,s.wg)(),(0,s.j4)(i.Z,{class:(0,r.C_)(["flex h-screen items-center justify-center",(0,o.SU)(n)])},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default",{cardClass:"w-11/12 md:w-7/12 lg:w-6/12 xl:w-4/12 shadow-2xl",cardRounded:"rounded-lg"})])),_:3},8,["class"]))}};const p=c;var g=p,w=a(9890);const b=["type","name","value"],f=(0,s._)("span",{class:"check"},null,-1),h={class:"control-label"};var v={props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox"},column:Boolean,modelValue:{type:[Object,Array,String,Number],default:null}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,n=(0,s.Fl)({get:()=>a.modelValue,set:e=>{l("update:modelValue",e)}}),u=(0,s.Fl)((()=>"radio"===a.type?"radio":"checkbox"));return(l,a)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,r.C_)(["flex justify-start flex-wrap -mb-3",{"flex-col":e.column}])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.options,((l,d)=>((0,s.wg)(),(0,s.iD)("label",{key:d,class:(0,r.C_)([e.type,"mr-6 mb-3 last:mr-0"])},[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>(0,o.dq)(n)?n.value=e:null),type:(0,o.SU)(u),name:e.name,value:d},null,8,b),[[t.YZ,(0,o.SU)(n)]]),f,(0,s._)("span",h,(0,r.zw)(l),1)],2)))),128))],2))}};const y=v;var S=y,_=a(5690),U=a(2213),k=a(5693),V=a(1388),Z=a(6373),W=a(8400),x=a(3002),j={setup(e){const l=(0,o.qj)({username:"",password:"",remember:["remember"]}),a=(0,x.pm)(),m=(0,n.tv)(),i=(0,d.oR)(),c=(0,o.qj)({username:{message:""},password:{message:""}});function p(){c.username.message="",c.password.message=""}const b=()=>{if(p(),""===l.username||""===l.password)return c.username.message="Username is required",void(c.password.message="Password is required");l.password.length<8?a.error("Invalid login credentials"):W.Z.post("/auth/login",l).then((e=>{console.log(e.data),i.dispatch("login",e.data),a.success(e.message),m.push("/dashboard")})).catch((e=>{a.error(e.message)})).finally((()=>{}))};return(e,a)=>((0,s.wg)(),(0,s.j4)(g,{bg:"login"},{default:(0,s.w5)((({cardClass:e,cardRounded:n})=>[(0,s.Wm)(w.Z,{class:(0,r.C_)(e),rounded:n,form:"",onSubmit:(0,t.iM)(b,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(_.Z,{label:"Login",help:(0,o.SU)(c).username.message},{default:(0,s.w5)((()=>[(0,s.Wm)(U.Z,{modelValue:(0,o.SU)(l).username,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,o.SU)(l).username=e),icon:(0,o.SU)(u.rI3),name:"login",autocomplete:"username"},null,8,["modelValue","icon"])])),_:1},8,["help"]),(0,s.Wm)(_.Z,{label:"Password",help:(0,o.SU)(c).password.message},{default:(0,s.w5)((()=>[(0,s.Wm)(U.Z,{modelValue:(0,o.SU)(l).password,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,o.SU)(l).password=e),icon:(0,o.SU)(u.AD$),type:"password",name:"password",autocomplete:"current-password"},null,8,["modelValue","icon"])])),_:1},8,["help"]),(0,s.Wm)(S,{modelValue:(0,o.SU)(l).remember,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,o.SU)(l).remember=e),name:"remember",options:{remember:"Remember"}},null,8,["modelValue"]),(0,s.Wm)(k.Z),(0,s.Wm)(Z.Z,null,{default:(0,s.w5)((()=>[(0,s.Wm)(V.Z,{type:"submit",color:"info",label:"Login"}),(0,s.Wm)(V.Z,{to:"/dashboard",color:"info",outline:"",label:"Back"})])),_:1})])),_:2},1032,["class","rounded","onSubmit"])])),_:1}))}};const q=j;var C=q}}]);
//# sourceMappingURL=login.7c7119ff.js.map