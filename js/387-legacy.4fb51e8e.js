(self["webpackChunkadmin_one_vue_tailwind"]=self["webpackChunkadmin_one_vue_tailwind"]||[]).push([[387],{8533:function(e,t,n){"use strict";var r=n(2092).forEach,a=n(9341),u=a("forEach");e.exports=u?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},9341:function(e,t,n){"use strict";var r=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},9826:function(e,t,n){"use strict";var r=n(2109),a=n(2092).find,u=n(1223),i="find",c=!0;i in[]&&Array(1)[i]((function(){c=!1})),r({target:"Array",proto:!0,forced:c},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),u(i)},4747:function(e,t,n){var r=n(7854),a=n(8324),u=n(8509),i=n(8533),c=n(8880),o=function(e){if(e&&e.forEach!==i)try{c(e,"forEach",i)}catch(t){e.forEach=i}};for(var l in a)a[l]&&o(r[l]&&r[l].prototype);o(u)},5690:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(6252),a=n(3577),u=n(2262),i={class:"mb-6 last:mb-0"},c={key:0,class:"block font-bold mb-2"},o={key:1,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},l={props:{label:{type:String,default:null},help:{type:String,default:null}},setup:function(e){var t=(0,r.Rr)(),n=(0,r.Fl)((function(){var e=[],n=t.default().length;return n>1&&e.push("grid grid-cols-1 gap-3"),2===n&&e.push("md:grid-cols-2"),e}));return function(t,l){return(0,r.wg)(),(0,r.iD)("div",i,[e.label?((0,r.wg)(),(0,r.iD)("label",c,(0,a.zw)(e.label),1)):(0,r.kq)("",!0),(0,r._)("div",{class:(0,a.C_)((0,u.SU)(n))},[(0,r.WI)(t.$slots,"default")],2),e.help?((0,r.wg)(),(0,r.iD)("div",o,(0,a.zw)(e.help),1)):(0,r.kq)("",!0)])}}};const s=l;var m=s},3523:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var r=n(8534),a=(n(5666),n(9826),n(1539),n(4747),n(8309),n(6252)),u=n(2262),i=n(3577),c=n(5317),o=n(7315),l=n(9890),s=n(5693),m=n(8400),p=n(3002),f=n(2119),d=n(5690),v=n(2213),h=n(1388),g=n(8146),w={class:"px-2 py-1"},k={class:""},b={class:"text-sm"},x=(0,a.Uk)(),y=["onClick"],Z={class:"text-gray-500"},_={key:1,class:"bg-opacity-50 p-3 dark:bg-gray-800"},R=["onClick"],W={setup:function(e){var t=(0,f.yj)(),n=(0,u.iH)({}),W=(0,u.iH)([]),C=(0,u.iH)([]),D=(0,u.iH)([]),U=(0,u.iH)([]),H=(0,u.iH)({}),z=(0,p.pm)(),E=(0,u.iH)(t.params.memoId),S=(0,u.qj)({comment:"",receipients:null});function q(){var e=D.value.find((function(e){return e.receipient===H.value.id}));e||D.value.push({receipient:H.value.id,name:H.value.label})}function V(e){var t=[];D.value.forEach((function(n){n.receipient!==e&&t.push(n)})),D.value=t}function j(e){return Y.apply(this,arguments)}function Y(){return Y=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.get("/memos/".concat(t,"/receipients"));case 3:n=e.sent,W.value=n.data.receipients,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),z.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Y.apply(this,arguments)}function K(e){return M.apply(this,arguments)}function M(){return M=(0,r.Z)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.get("/memos/".concat(t));case 3:r=e.sent,n.value=r.data.memo,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),z.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),M.apply(this,arguments)}function A(){return I.apply(this,arguments)}function I(){return I=(0,r.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.get("/users");case 3:t=e.sent,t.data.forEach((function(e){C.value.push({id:e.id,label:e.fullName})})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),z.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),I.apply(this,arguments)}function N(){return X.apply(this,arguments)}function X(){return X=(0,r.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==D.value.length){e.next=3;break}return z.error("You must select at least 1 receipient"),e.abrupt("return");case 3:if(""!==S.comment){e.next=6;break}return z.error("Comment is required"),e.abrupt("return");case 6:return e.prev=6,S.receipients=D,e.next=10,m.Z.post("/memos/".concat(E.value,"/comments"),S);case 10:return t=e.sent,z.success(t.message),e.next=14,G();case 14:$(),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](6),z.error(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[6,17]])}))),X.apply(this,arguments)}function B(e){return F.apply(this,arguments)}function F(){return F=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.get("/memos/".concat(t,"/comments"));case 3:n=e.sent,U.value=n.data.memoComments,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),z.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),F.apply(this,arguments)}function O(e){return T.apply(this,arguments)}function T(){return T=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z["delete"]("/memos/comments/".concat(t));case 3:return n=e.sent,z.success(n.message),e.next=7,B(E.value);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),z.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),T.apply(this,arguments)}function $(){S.comment="",D.value=[]}function G(){return J.apply(this,arguments)}function J(){return J=(0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K(E.value);case 2:return e.next=4,B(E.value);case 4:return e.next=6,j(E.value);case 6:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}return(0,a.bv)((0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:A();case 3:case"end":return e.stop()}}),e)})))),function(e,t){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o.Z,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(l.Z,{title:"Memo Details",icon:(0,u.SU)(c.hjO),form:""},{default:(0,a.w5)((function(){return[W.value.length?((0,a.wg)(),(0,a.j4)(d.Z,{key:0,label:"Recipients"},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(W.value,(function(e){return(0,a.wg)(),(0,a.iD)("span",{key:e.receipient,class:"inline-block px-2 py-1"},(0,i.zw)(e.user.fullName),1)})),128))]})),_:1})):(0,a.kq)("",!0),(0,a.Wm)(s.Z),(0,a.Wm)(d.Z,{label:"Memo Title"},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(n.value.title),1)]})),_:1}),(0,a.Wm)(s.Z),(0,a.Wm)(d.Z,{label:"Date"},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(n.value.date),1)]})),_:1}),(0,a.Wm)(s.Z),(0,a.Wm)(d.Z,{label:"Memo Comments"},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(U.value,(function(e){return(0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a._)("div",w,[(0,a._)("div",k,[(0,a.Uk)((0,i.zw)(e.commentBy)+" on ",1),(0,a._)("span",b,(0,i.zw)(e.date),1),x,(0,a._)("button",{class:"inline-block bg-red-700 p-2 rounded-sm mr-2 text-white-700",onClick:function(t){return O(e.id)}}," X ",8,y)]),(0,a._)("div",Z,(0,i.zw)(e.message),1)])])})),128))]})),_:1}),(0,a.Wm)(s.Z),(0,a.Wm)(d.Z,{label:"Receipient"},{default:(0,a.w5)((function(){return[(0,a.Wm)(v.Z,{modelValue:H.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return H.value=e}),options:C.value,onChange:q},null,8,["modelValue","options"])]})),_:1}),D.value.length?((0,a.wg)(),(0,a.iD)("div",_,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(D.value,(function(e){return(0,a.wg)(),(0,a.iD)("span",{key:e.receipient,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm dark:bg-gray-700 light:bg-gray-300"},[(0,a.Uk)((0,i.zw)(e.name)+" ",1),(0,a._)("span",null,[(0,a._)("button",{class:"inline-block bg-red-700 p-1 rounded-sm mr-2 text-white-700",onClick:function(t){return V(e.receipient)}},"X",8,R)])])})),128))])):(0,a.kq)("",!0),(0,a.Wm)(s.Z),(0,a.Wm)(d.Z,{label:"Comment"},{default:(0,a.w5)((function(){return[(0,a.Wm)(v.Z,{modelValue:(0,u.SU)(S).comment,"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,u.SU)(S).comment=e}),row:"3",type:"textarea"},null,8,["modelValue"])]})),_:1}),(0,a.Wm)(s.Z),(0,a.Wm)(g.Z,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(h.Z,{type:"submit",color:"info",label:"Send",onClick:N})]})),_:1})]})),_:1},8,["icon"])]})),_:1})])}}};const C=W;var D=C}}]);
//# sourceMappingURL=387-legacy.4fb51e8e.js.map